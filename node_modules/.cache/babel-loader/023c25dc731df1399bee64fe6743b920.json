{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport 'bulma';\nimport axios from \"axios\";\nimport AddDirectory from './AddDirectory.vue';\nimport ShowDirectory from './ShowDirectory.vue';\nimport UpdateDirectory from './UpdateDirectory.vue';\nexport default {\n  emits: \"look-panel\",\n  components: {\n    AddDirectory,\n    ShowDirectory,\n    UpdateDirectory\n  },\n\n  data() {\n    return {\n      addActive: '',\n      showActive: '',\n      updateActive: '',\n      lists: null,\n      list: '',\n      searchQuery: ''\n    };\n  },\n\n  watch: {\n    /*\r\n    search(){\r\n    return this.lists.filter((list)=>{\r\n    list.toLowerCase().includes(this.searchQuery.value.toLowerCase())\r\n    })\r\n    }*/\n    searchQuery() {\n      return this.lists.filter(list => list.toLowerCase().includes(this.searchQuery.value.toLowerCase()));\n    }\n\n  },\n\n  async mounted() {\n    try {\n      const response = await axios.get('http://localhost:8080/api/phone/get');\n      this.lists = response.data.data;\n    } catch (e) {\n      console.log(e);\n    }\n\n    this.lists.sort(function (a, b) {\n      if (a.name > b.name) {\n        return 1;\n      }\n\n      if (a.name < b.name) {\n        return -1;\n      }\n    });\n  },\n\n  //https://jsonplaceholder.typicode.com/posts\n  //http://localhost:8080/api/phone/get\n  methods: {\n    openAddDirectory() {\n      this.addActive = 'is-active';\n    },\n\n    openShow(index) {\n      this.list = this.lists[index];\n      this.showActive = 'is-active';\n    },\n\n    openUpdate(index) {\n      this.list = this.lists[index];\n      this.updateActive = 'is-active';\n    },\n\n    close() {\n      this.addActive = '', this.showActive = '', this.updateActive = '';\n    },\n\n    del(index, id) {\n      const list = this.lists[index];\n      id = list._id;\n\n      if (confirm(\"Are you sure about that ?\")) {\n        axios.delete(`http://localhost:8080/api/phone/delete/` + id).then(response => {\n          this.lists.splice(index, 1);\n          console.log(response);\n        });\n      }\n    },\n\n    show() {\n      this.$emit('show');\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA2DA,OAAO,OAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AAKA,eAAe;EACXC,KAAI,EAAI,YADG;EAEXC,UAAU,EAAC;IACXJ,YADW;IAEXC,aAFW;IAGXC;EAHW,CAFA;;EAOfG,IAAI,GAAE;IACN,OAAO;MACLC,SAAQ,EAAI,EADP;MAELC,UAAS,EAAI,EAFR;MAGLC,YAAW,EAAI,EAHV;MAILC,KAAK,EAAC,IAJD;MAKLC,IAAI,EAAC,EALA;MAMLC,WAAW,EAAC;IANP,CAAP;EASC,CAjBc;;EAoBfC,KAAK,EAAC;IAAC;;;;;;IAQJD,WAAW,GAAG;MACf,OAAO,KAAKF,KAAL,CAAWI,MAAX,CAAmBH,IAAD,IACvBA,IAAI,CAACI,WAAL,GAAmBC,QAAnB,CAA4B,KAAKJ,WAAL,CAAiBK,KAAjB,CAAuBF,WAAvB,EAA5B,CADK,CAAP;IAGD;;EAZK,CApBS;;EAqCb,MAAMG,OAAN,GAAgB;IACd,IAAI;MACF,MAAMC,QAAO,GAAI,MAAMnB,KAAK,CAACoB,GAAN,CAAU,qCAAV,CAAvB;MACA,KAAKV,KAAL,GAAaS,QAAQ,CAACb,IAAT,CAAcA,IAA3B;IAIF,CANA,CAME,OAAOe,CAAP,EAAU;MACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ;IAEF;;IACA,KAAKX,KAAL,CAAWc,IAAX,CAAgB,UAASC,CAAT,EAAWC,CAAX,EAAa;MAC7B,IAAGD,CAAC,CAACE,IAAF,GAAOD,CAAC,CAACC,IAAZ,EAAiB;QACf,OAAO,CAAP;MACF;;MAAE,IAAKF,CAAC,CAACE,IAAF,GAAOD,CAAC,CAACC,IAAd,EAAoB;QACpB,OAAO,CAAC,CAAR;MACF;IACC,CAND;EAQD,CAxDY;;EA0Db;EACA;EAIFC,OAAO,EAAC;IACNC,gBAAgB,GAAE;MAChB,KAAKtB,SAAL,GAAiB,WAAjB;IACD,CAHK;;IAKLuB,QAAQ,CAACC,KAAD,EAAO;MAEhB,KAAKpB,IAAL,GAAY,KAAKD,KAAL,CAAWqB,KAAX,CAAZ;MAEC,KAAKvB,UAAL,GAAkB,WAAlB;IACA,CAVK;;IAWNwB,UAAU,CAACD,KAAD,EAAO;MAEhB,KAAKpB,IAAL,GAAY,KAAKD,KAAL,CAAWqB,KAAX,CAAZ;MAEA,KAAKtB,YAAL,GAAoB,WAApB;IACA,CAhBK;;IAmBNwB,KAAK,GAAE;MACL,KAAK1B,SAAL,GAAiB,EAAjB,EACA,KAAKC,UAAL,GAAkB,EADlB,EAEA,KAAKC,YAAL,GAAoB,EAFpB;IAGD,CAvBK;;IAwBNyB,GAAG,CAACH,KAAD,EAAOI,EAAP,EAAU;MACX,MAAMxB,IAAG,GAAI,KAAKD,KAAL,CAAWqB,KAAX,CAAb;MACAI,EAAC,GAAIxB,IAAI,CAACyB,GAAV;;MACA,IAAGC,OAAM,CAAG,2BAAH,CAAT,EAAyC;QACvCrC,KAAK,CAACsC,MAAN,CAAc,yCAAD,GAA0CH,EAAvD,EACAI,IADA,CACKpB,QAAO,IAAK;UACjB,KAAKT,KAAL,CAAW8B,MAAX,CAAkBT,KAAlB,EAAwB,CAAxB;UACGT,OAAO,CAACC,GAAR,CAAYJ,QAAZ;QACH,CAJA;MAKF;IAED,CAnCK;;IAoCHsB,IAAI,GAAE;MACL,KAAKC,KAAL,CAAW,MAAX;IACD;;EAtCG;AA/DO,CAAf","names":["axios","AddDirectory","ShowDirectory","UpdateDirectory","emits","components","data","addActive","showActive","updateActive","lists","list","searchQuery","watch","filter","toLowerCase","includes","value","mounted","response","get","e","console","log","sort","a","b","name","methods","openAddDirectory","openShow","index","openUpdate","close","del","id","_id","confirm","delete","then","splice","show","$emit"],"sourceRoot":"","sources":["C:\\Users\\huso_\\OneDrive\\Masaüstü\\pbb_app\\pb\\src\\components\\LookPanel.vue"],"sourcesContent":["<template>\r\n<div>\r\n<html>\r\n <head>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n          type=\"text/css\">\r\n</head> \r\n<body>\r\n<nav class=\"panel\">\r\n  <p class=\"panel-heading\">\r\n    PhoneBook <br>\r\n        <button class=\"button is-link is-outlined \" @click=\"openAddDirectory\">\r\n        \r\n      Add New\r\n    </button>\r\n  </p>\r\n  <div class=\"panel-block\">\r\n    <p class=\"control has-icons-left\">\r\n      <input class=\"input\" type=\"text\" v-model=\"searchQuery\" placeholder=\"Search\" >\r\n      <span class=\"icon is-left\">\r\n        <i class=\"fas fa fa-search\" aria-hidden=\"true\"></i>\r\n      </span>\r\n    </p>\r\n  </div>\r\n\r\n  <a class=\"panel-block\" v-for=\"list,index in lists\" v-bind:key=\"list.id\">    \r\n<span class=\" column is-9\">\r\n  {{list.name}}\r\n</span>\r\n\r\n\r\n\r\n<span class=\"panel-icon  is-1\">\r\n<i class=\"has-text-info fa-solid fa fa-edit\" aria-hidden=\"true\"  @click=\"openUpdate(index)\"></i>\r\n    </span>       \r\n\r\n<span class=\"panel-icon column is-2\">\r\n<i class=\"has-text-primary fa-solid fa fa-eye\" aria-hidden=\"true\" @click=\"openShow(index)\"></i>\r\n    </span>\r\n\r\n    <span class=\"panel-icon  is-3\">\r\n<i class=\"has-text-danger fa-solid fa fa-trash\" aria-hidden=\"true\" @click=\"del(index,list.id)\"></i>\r\n  </span>\r\n  </a>\r\n  \r\n\r\n</nav>\r\n\r\n<AddDirectory :openmodal='addActive' @closeRequest='close' :lists=\"this.lists\"></AddDirectory>\r\n\r\n<ShowDirectory :openmodal='showActive' @closeRequest='close' :list=\"this.list\" ></ShowDirectory>\r\n\r\n<UpdateDirectory :openmodal='updateActive' @closeRequest='close' :list=\"this.list\" :lists=\"this.lists\"></UpdateDirectory>\r\n</body>\r\n</html>\r\n</div>\r\n\r\n</template>\r\n<script >\r\nimport 'bulma'\r\nimport axios from \"axios\";\r\nimport AddDirectory from './AddDirectory.vue';\r\nimport ShowDirectory from './ShowDirectory.vue'\r\nimport UpdateDirectory from './UpdateDirectory.vue';\r\n\r\n\r\n\r\n\r\nexport default {\r\n    emits : \"look-panel\",\r\n    components:{\r\n    AddDirectory,\r\n    ShowDirectory,\r\n    UpdateDirectory\r\n},\r\ndata(){\r\nreturn {\r\n  addActive : '',\r\n  showActive : '',\r\n  updateActive : '',\r\n  lists:null,\r\n  list:'',\r\n  searchQuery:'',\r\n\r\n}\r\n},\r\n\r\n\r\nwatch:{/*\r\n  search(){\r\n\r\n    return this.lists.filter((list)=>{\r\n      list.toLowerCase().includes(this.searchQuery.value.toLowerCase())\r\n    })\r\n  }*/\r\n\r\n   searchQuery() {\r\n  return this.lists.filter((list) =>\r\n    list.toLowerCase().includes(this.searchQuery.value.toLowerCase())\r\n  );\r\n},\r\n},\r\n\r\n\r\n\r\n  async mounted() {\r\n    try {\r\n      const response = await axios.get('http://localhost:8080/api/phone/get');\r\n      this.lists = response.data.data\r\n      \r\n\r\n      \r\n    } catch (e) {\r\n      console.log(e)\r\n    \r\n    }\r\n    this.lists.sort(function(a,b){\r\n    if(a.name>b.name){\r\n      return 1;\r\n    } if ((a.name<b.name)){\r\n      return -1;\r\n    }\r\n    })\r\n    \r\n  },\r\n\r\n  //https://jsonplaceholder.typicode.com/posts\r\n  //http://localhost:8080/api/phone/get\r\n\r\n\r\n\r\nmethods:{\r\n  openAddDirectory(){\r\n    this.addActive = 'is-active';\r\n  },\r\n  \r\n   openShow(index){\r\n\r\n  this.list = this.lists[index];\r\n\r\n   this.showActive = 'is-active';\r\n  },\r\n  openUpdate(index){\r\n\r\n   this.list = this.lists[index];\r\n\r\n   this.updateActive = 'is-active';\r\n  },\r\n\r\n\r\n  close(){\r\n    this.addActive = '',\r\n    this.showActive = '',\r\n    this.updateActive = ''\r\n  },\r\n  del(index,id){\r\n    const list = this.lists[index];\r\n    id = list._id;\r\n    if(confirm (\"Are you sure about that ?\")){\r\n      axios.delete(`http://localhost:8080/api/phone/delete/`+id)\r\n     .then(response => {\r\n      this.lists.splice(index,1);\r\n         console.log(response);\r\n     });\r\n    }\r\n\r\n  },\r\n     show(){\r\n      this.$emit('show')\r\n    },\r\n\r\n},\r\n\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}